<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ammuuuuu ğŸ’–</title>
    <link rel="stylesheet" href="style.css">
    <!-- Google Fonts for a distinct look -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
</head>

<body>

    <!-- Audio Elements -->
    <audio id="audio1" loop>
        <!-- Tries song.mp3 first, then audio1.mp3 -->
        <source src="song.mp3" type="audio/mpeg">
        <source src="audio1.mp3" type="audio/mpeg">
    </audio>

    <audio id="audio2" loop>
        <source src="audio2.mp3" type="audio/mpeg">
    </audio>

    <!-- LAYER 1: PASSWORD -->
    <div id="layer-password" class="layer active-layer">
        <div class="password-container">
            <div style="font-size: 3rem; margin-bottom: 10px;">ğŸ”’â¤ï¸</div>
            <h1>Unlock My Heart</h1>
            <div class="input-group">
                <p>Looking <input type="text" id="pass1" placeholder="_______"></p>
                <p><input type="text" id="pass2" placeholder="_______"> to <input type="text" id="pass3"
                        placeholder="_______"></p>
                <button id="unlockBtn">Unveil â¤ï¸</button>
                <p id="errorMsg" class="error hidden">Not quite right, try again! ğŸ˜œ</p>
            </div>
        </div>
    </div>

    <!-- LAYER 2: PHOTO COLLAGE & PROPOSAL -->
    <div id="layer-proposal" class="layer hidden">
        <div id="scatter-container">
            <!-- Images will be injected here by JS for random scattering -->
        </div>

        <div class="panel">
            <h1>Ammuuuuu ğŸ’–ğŸ’–</h1>
            <p id="proposal-text">Will you be my Valentine?<br>â€“ Vikas</p>
            <div class="buttons">
                <!-- Added logic to try playing audio on interaction if blocked -->
                <button id="yesBtn" onclick="document.getElementById('audio1').play()">YES ğŸ’–</button>
                <button id="noBtn" onclick="document.getElementById('audio1').play()">NO ğŸ˜</button>
            </div>
            <p id="noMsg"></p>
        </div>
    </div>

    <!-- LAYER 3: CONTRACT -->
    <div id="layer-contract" class="layer hidden">
        <div class="panel contract-panel">
            <h1>ğŸ“œ Relationship Contract ğŸ“œ</h1>
            <p>
                3 years doneeee â€” the best years of my life ğŸ’•<br>
                Love youuu Ammuuu â¤ï¸<br>
                You are booked for Valentine's Day for the next 97 years ğŸ˜Š!
            </p>
            <p class="contract-terms">
                * This contract is non-negotiable and non-withdrawable.<br>
                * Perks: Infinite love ğŸ’•, Kisses ğŸ’‹, Fun and VIKAS <br>
                * Signed with love, Vikas.
            </p>
            <div class="kiss-mark">ğŸ’‹</div>
            <!-- Fallback logic: Try photo_contract.jpg, if fails, use photo1.jpg -->
            <div class="contract-pic">
                <img src="photo_contract.jpg" alt="Us" onerror="this.onerror=null; this.src='photo1.jpg';">
            </div>
            <button id="startQuizBtn">Take the Love Quiz! â¡ï¸</button>
        </div>
    </div>

    <!-- LAYER 4: QUIZ -->
    <div id="layer-quiz" class="layer hidden">
        <div class="panel quiz-panel">
            <h2>ğŸ’‘ The Us Quiz ğŸ’‘</h2>
            <div id="quiz-container">
                <p id="question-text">Question goes here...</p>
                <div id="options-container"></div>
                <p id="roast-message" class="roast-message"></p>
            </div>
            <p id="quiz-progress">1 / 10</p>
        </div>
    </div>

    <!-- LAYER 5: FINALE (Beating Heart & Score & Countdown) -->
    <div id="layer-finale" class="layer hidden">
        <div class="finale-panel"> <!-- Removed 'panel' class to use specific translucent style -->
            <h1>ğŸ’– Love Score: 10/10 ğŸ’–</h1>

            <!-- Beating Heart -->
            <div class="heart-beat" style="font-size: 5rem; margin: 20px 0;">â¤ï¸</div>

            <p class="final-message" style="font-size: 1.3rem;">
                It's never just "You" or "Me".<br>
                It's <b>US FOREVER</b>.
            </p>

            <!-- Parallel Countdown -->
            <div style="margin-top: 20px;">
                <p style="font-size: 1rem; color: #ff3366;">Our Forever Starts In:</p>
                <div id="final-timer" style="font-size: 4rem; font-weight: bold; color: #ff3366;">10</div>
            </div>
        </div>
    </div>

    <!-- Removed separate layer-countdown -->

    <!-- LAYER 6: SLIDESHOW (FINAL VIDEO) -->
    <div id="layer-slideshow" class="layer hidden">
        <div class="slideshow-wrapper">
            <img id="final-slideshow-img" src="" alt="Memories">
            <p class="final-caption">US FOREVER â¤ï¸</p>
        </div>
    </div>

    <!-- Red flash overlay -->
    <div id="red-flash" class="flash-overlay hidden"></div>

    <!-- Image Lightbox -->
    <div id="lightbox" class="lightbox hidden">
        <span id="close-lightbox" class="close-lightbox">&times;</span>
        <img id="lightbox-img" class="lightbox-content" src="" alt="Photo">
    </div>

    <script src="script.js"></script>
</body>

</html>